
@{
    Layout = null;
}

<div class="row bg-title" style="margin-bottom:20px;">
    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
        <h4 class="page-title">Bit Level</h4>
    </div>
    <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
        <ol class="breadcrumb">
            <li><a href >Bit Level</a></li>
            <li><a href class="active">Home</a></li>
        </ol>
    </div>
    <!-- /.col-lg-12 -->
</div>

<ul class="nav customtab nav-tabs" role="tablist"
    style="margin-bottom:20px;">
    <li role="presentation" class="active">
        <a href role="tab">
            <span class="visible-xs">
                <i class="ti-home" title="Home"></i>
            </span>
            <span class="hidden-xs">Home</span>
        </a>
    </li>
    <li role="presentation" class="">
        <a href ui-sref="base.bitcoinAddresses" role="tab">
            <span class="visible-xs">
                <i class="icon-settings" title="Bitcoin Address"></i>
            </span>
            <span class="hidden-xs">Bitcoin Addresses</span>
        </a>
    </li>
    <li role="presentation" class="">
        <a href ui-sref="base.history" role="tab">
            <span class="visible-xs">
                <i class="ti-time" title="History"></i>
            </span>
            <span class="hidden-xs">History</span>
        </a>
    </li>
</ul>

<div ng-hide="vm.isLoadingView">

    <h5 class="text-muted" ng-show="vm.hasBitLevel"><strong>Level Information</strong></h5>
    <div class="row" ng-show="vm.hasBitLevel">
        <div class="col-md-12 col-lg-12 col-sm-12">
            <div class="white-box">
                <div class="row row-in">

                    <div class="col-lg-6 col-sm-6 row-in-br">
                        <div class="col-in row">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <i data-icon="E" class="ti-stats-up text-info"></i>
                                <h5 class="text-muted vb">Current Cycle&nbsp;&nbsp;&nbsp;<strong>{{vm.cyclePercentage()}}</strong></h5>
                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <h3 class="counter text-right m-t-15 text-info" style="line-height:1em;">
                                    <span style="font-size:13px; vertical-align:super;">Cycle</span>{{vm.currentCycle}}/<span style="font-size:13px; vertical-align:super;">Level</span>{{vm.currentLevel}}
                                </h3>
                            </div>
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info" role="progressbar" ng-style="{width: vm.cyclePercentage()}"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-sm-6 row-in-br">
                        <div class="col-in row">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <i class="fa fa-btc text-success" data-icon=""></i>
                                <h5 class="text-muted vb">Donations Received</h5>
                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <h3 class="counter text-right m-t-15 text-success" style="line-height:1em;">{{vm.donationsReceived}}</h3>
                            </div>
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" style="width: 100%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-sm-6  b-0">
                        <div class="col-in row">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <i class="ti-close text-danger" data-icon=""></i>
                                <h5 class="text-muted vb">Donations Missed</h5>
                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <h3 class="counter text-right m-t-15 text-danger" style="line-height:1em;">{{vm.donationsMissed}}</h3>
                            </div>
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-danger" role="progressbar" style="width: 100%"> <span class="sr-only">40% Complete (success)</span> </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div class="row" ng-show="vm.hasBitLevel">

        <div class="col-lg-6 col-xs-12" ng-hide="vm.isDonationConfirmed()">
            <div class="white-box">
                <h4 class="text-muted text-center">Upgrade Receiver Information</h4>
                <div class="user-bg"
                     style="height: 150px !important; background-repeat: no-repeat; background-position: center; margin-top:0;"
                     ng-style="{'background-image': 'url('+vm.getReceiverProfileImage()+')', 'background-size':'contain'}">                    
                </div>
                <div class="user-btm-box">

                    <!-- .row -->
                    <div class="row text-center m-t-10">
                        <div class="col-md-6 b-r">
                            <strong>Name</strong>
                            <p>{{vm.getReceiverName()}}</p>
                        </div>
                        <div class="col-md-6">
                            <strong>Phone</strong>
                            <p>{{vm.getReceiverPhone()}}</p>
                        </div>
                    </div>
                    <!-- /.row -->
                    <hr>

                    <!-- .row -->
                    <div class="row text-center m-t-10">
                        <div class="col-md-12 b-r">
                            <strong style="margin-bottom:20px; display:block;">Email</strong>
                            <p>{{vm.getReceiverEmail()}}</p>
                        </div>
                    </div>
                    <!-- /.row -->
                    <hr>

                    <!-- .row -->
                    <div class="row text-center m-t-10">
                        <div class="col-md-12 text-center">
                            <strong style="margin-bottom:20px; display:block;">Receiving Address</strong>
                            <p>{{vm.receiverAddress()}}</p>

                            <button type="button" class="btn btn-outline btn-info wav"
                                    ng-hide="vm.donationHasHash()"
                                    ng-click="vm.addressCopied()"
                                    data-clipboard-action="copy" data-clipboard-text="{{vm.receiverAddress()}}"
                                    data-toggle="tooltip" data-original-title="Copy Bitcoin address to clipboard"
                                    id="addressClipboardCopy">
                                <i class="ti-clipboard"></i> Copy Address
                            </button>
                        </div>
                    </div>
                    <!-- /.row -->
                    <hr>

                    <!-- .row -->
                    <div class="row text-center m-t-10"
                         ng-hide="vm.donationHasHash()">
                        <div class="col-md-12">
                            <strong style="margin-bottom:20px; display:block;">Upgrade Transaction</strong>
                            <div class="form-material form-horizontal">
                                <div class="form-group" style="margin-bottom:5px;">
                                    <div class="col-md-12">
                                        <input type="text" class="form-control form-control-line text-center"
                                               placeholder="Enter transaction hash"
                                               ng-model="vm.transactionHash" />
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <button class="btn btn-outline btn-info"
                                            style="margin-top:10px;"
                                            ng-class="{disabled: !vm.hasActiveBitcoinAddress}"
                                            ng-click="vm.updateTransactionHash()">
                                        <span ng-hide="vm.isSavingTransactionHash"><i class="ti-save"></i>&nbsp;Verify</span>
                                        <ring-loader size="18" color="white" show="vm.isSavingTransactionHash"></ring-loader>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- .row -->
                    <div class="row text-center m-t-10"
                         ng-show="vm.donationHasHash()">
                        <div class="col-md-12">
                            <strong style="margin-bottom:20px; display:block;">Transaction</strong>
                            <span class="text-success" style="display: block; margin-bottom:15px;">{{vm.bitLevel.Donation.TransactionHash}}</span>
                            <h4><span class="text-info">{{vm.bitLevel.Donation.LedgerCount}}</span> Confirmations</h4>

                            <button class="btn btn-outline btn-info"
                                    style="margin-top:10px;"
                                    ng-class="{disabled: !vm.hasActiveBitcoinAddress}"
                                    ng-click="vm.updateTransactionHash()">
                                <span ng-hide="vm.isSavingTransactionHash"><i class="ti-save"></i>&nbsp;Confirm</span>
                                <ring-loader size="18" color="white" show="vm.isSavingTransactionHash"></ring-loader>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6" ng-hide="vm.isDonationConfirmed()">
            <div class="row">
                <div class="col-lg-12">
                    <div class="white-box">
                        <div class="text-right" style="height:112px;">
                            <span class="text-muted">Next Level</span>
                            <h1><sup><i class="ti-arrow-up text-success"></i></sup>&nbsp;&nbsp;&nbsp;{{vm.nextLevel}}</h1>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12">
                    <div class="white-box">
                        <div class="text-right">
                            <span class="text-muted">Amount</span>
                            <h1><i class="fa fa-btc"></i>&nbsp;{{vm.upgradeFee}}</h1>
                        </div>
                        <div style="height:24px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row"
         ng-hide="vm.hasBitLevel">
        <div class="col-md-6 col-lg-6 col-sm-12"
             style="margin-top:30px;">
            <div class="white-box bd-card-2">
                <h3 class="box-title">
                    Welcome!
                </h3>
                <span class="text-muted">
                    Get started on your journey by triggering your first <strong class="text-muted">Cycle</strong>.
                    Click the button below to get things started.
                </span>
                <div class="row sales-report">
                    <div class="col-md-6 col-sm-6 col-xs-6">
                        <h3><i class="icon-diamond"></i> Begin Cycle</h3>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-6 ">
                        <button class="btn btn-block btn-outline btn-rounded btn-success btn-md"
                                ng-class="{disabled: !vm.hasActiveBitcoinAddress}"
                                type="button"
                                ng-click="vm.upgradeLevel()"
                                style="margin-top:10px; margin-bottom:10px;">
                            <span ng-hide="vm.isUpgrading"><sup><i class="ti-arrow-up"></i></sup> Level Up</span>
                            <ring-loader size="16" color="white" show="vm.isUpgrading"></ring-loader>
                        </button>
                    </div>
                </div>
                <span class="text-warning" ng-hide="vm.hasActiveBitcoinAddress">
                    We noticed you haven't yet got any <strong>bitcoin transaction address</strong> setup yet.
                    Not to worry, this can easily be done by following the instructions <strong><a href ui-sref="base.bitcoinAddresses">Here</a></strong>.
                </span>
            </div>
        </div>
    </div>


    <div class="row"
         ng-show="vm.isDonationConfirmed()">
        <div class="col-md-6 col-lg-6 col-sm-12"
             style="margin-top:30px;">
            <div class="white-box bd-card-2">
                <h3 class="box-title">
                    Congratulations!
                </h3>
                <span class="text-muted">
                    You can now qualified to <strong class="text-muted">Upgrade</strong>.
                </span>
                <div class="row sales-report">
                    <div class="col-md-6 col-sm-6 col-xs-6">
                        <h3><i class="ti-stats-up"></i>&nbsp;&nbsp;{{vm.nextLevel}}</h3>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-6 ">
                        <button class="btn btn-block btn-outline btn-rounded btn-success btn-md"
                                type="button"
                                ng-click="vm.upgradeLevel()"
                                style="margin-top:10px; margin-bottom:10px;">
                            <span ng-hide="vm.isUpgrading"><sup><i class="ti-arrow-up"></i></sup> Level Up</span>
                            <ring-loader size="16" color="white" show="vm.isUpgrading"></ring-loader>
                        </button>
                    </div>
                </div>
                <span class="text-warning" ng-hide="vm.hasActiveBitcoinAddress">
                    We noticed you haven't yet got any <strong>bitcoin transaction address</strong> setup yet.
                    Not to worry, this can easily be done by following the instructions <strong><a href ui-sref="base.bitcoinAddresses">Here</a></strong>.
                </span>
            </div>
        </div>
    </div>
</div>

 

<div ng-show="vm.isLoadingView"
     style="position:absolute; left:220px; bottom:60px; right:0; top:166px;">
    <box-loader size="40" color="white" show="true" block-loader="true"></box-loader>
</div>


<script type="text/javascript">
    $('[data-toggle=tooltip]').tooltip();
    new Clipboard('#addressClipboardCopy');
</script>
